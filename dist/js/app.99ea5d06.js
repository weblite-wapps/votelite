webpackJsonp([1],{0:function(t,e,o){t.exports=o("NHnr")},"6siT":function(t,e){},AHS1:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("/5sW"),s=(o("6siT"),o("Pi1K"),o("w1QW"),o("AHS1"),{name:"Header",props:["page"],methods:{onChangePage:function(){this.$emit("update:page","Vote"===this.page?"Stat":"Vote")}}}),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.$style.header},[o("span",{class:t.$style["header-title"]},[t._v("Votelite")]),o("i",{staticClass:"noselect",on:{click:t.onChangePage}},[t._v("\n    "+t._s("Vote"===t.page?"pie_chart_outlined":"poll")+"\n  ")])])},a=[],c=o("XyMi");function r(t){this["$style"]=o("oUnx")}var l=!1,u=r,_=null,h=null,d=Object(c["a"])(s,i,a,l,u,_,h),v=d.exports,p={name:"Vote",props:["choices","value"],methods:{change:function(t){this.$emit("change",t)}}},m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.choices,function(e,n){return o("div",{key:n,class:t.$style["radio"],on:{click:function(e){t.change(n)}}},[o("span",{class:[t.$style["radio-circle-outer"],"gr-"+(n+1)]},[o("span",{class:[t.$style["radio-circle-inner"],t.value===n?t.$style["radio-circle-checked"]:null]})]),o("span",{class:t.$style["radio-title"]},[t._v("\n      "+t._s(e)+"\n    ")])])}))},f=[];function g(t){this["$style"]=o("oQOX")}var y=!1,$=g,V=null,b=null,S=Object(c["a"])(p,m,f,y,$,V,b),x=S.exports,q={name:"Vote",components:{Radios:x},props:["question","choices","vote"],data:function(){return{localVote:null}},computed:{voteValue:function(){return null!==this.vote?this.vote:this.localVote}},methods:{changeLocalVote:function(t){this.localVote=t},changeVote:function(){this.$emit("change",this.localVote)}}},k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.$style["vote"]},[o("div",{class:t.$style["vote-question"]},[t._v(t._s(t.question))]),o("Radios",{attrs:{choices:t.choices,value:t.voteValue,disable:null!==t.vote},on:{change:t.changeLocalVote}}),o("div",{class:t.$style["vote-button-wrapper"]},[null===t.vote?o("button",{class:t.$style["vote-button"],on:{click:t.changeVote}},[t._v("\n      Vote\n    ")]):t._e()]),o("div",{class:t.$style["bottom"]})],1)},w=[];function R(t){this["$style"]=o("hLMp")}var H=!1,M=R,O=null,z=null,j=Object(c["a"])(q,k,w,H,M,O,z),C=j.exports,A=window,P=A.R,X={name:"Stat",props:["choices","votes"],computed:{votesPercentage:function(){var t=P.sum(this.votes);return this.votes.map(function(e){return Math.round(e/t*100)})}}},L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.$style["stat"]},t._l(t.choices,function(e,n){return o("div",{key:n,class:t.$style["stat-item"]},[o("span",{class:[t.$style["stat-item-circle-outer"],"gr-"+(n+1)]},[o("span",{class:t.$style["stat-item-circle-inner"]},[t._v("\n        "+t._s(t.votesPercentage[n])+"%\n      ")])]),o("span",{class:t.$style["stat-item-title"]},[t._v("\n      "+t._s(e)+"\n    ")])])}))},D=[];function E(t){this["$style"]=o("kmOK")}var K=!1,Q=E,W=null,Y=null,T=Object(c["a"])(X,L,D,K,Q,W,Y),U=T.exports,I=(o("tqSY"),window),J=I.W,N=I.R,Z=function(t,e){return J.share.dispatch([],t,e)},B=function(t,e){return Z(["__adjust",[["__add",[1]],t]],N.repeat(0,e))},F=window,G=F.W,tt=F.R,et={name:"App",components:{Header:v,Vote:C,Stat:U},data:function(){return{customizeMode:"customize"===G.mode,page:"Vote",question:"",choices:[],votes:[],vote:null}},created:function(){var t=this;this.customizeMode&&G.start(),G.share.getFromServer([]).then(function(){return G.start()}),G.loadData().then(function(e){var o=e.localdb,n=e.customize;t.question=n.question,t.choices=n.choices,t.name=name,void 0!==o&&(t.vote=o)}),G.share.subscribe(function(e){t.votes=e||[]}),G.onChangeValue(function(e){var o=e.key,n=e.value;"question"===o?t.question=n:"choices"===o&&(t.choices=n)}),G.changeCustomize(tt.identity)},methods:{changeVote:function(t){this.vote=t,this.page="Stat",B(t,this.choices.length),G.changeLocaldb(t)}}},ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.$style.root},[o("Header",{attrs:{page:t.page},on:{"update:page":function(e){t.page=e}}}),"Vote"===t.page?o("Vote",{attrs:{question:t.question,choices:t.choices,vote:t.vote},on:{change:t.changeVote}}):t._e(),"Stat"===t.page?o("Stat",{attrs:{choices:t.choices,votes:t.votes}}):t._e(),t.customizeMode?o("div",{class:t.$style.customize}):t._e()],1)},nt=[];function st(t){this["$style"]=o("fSpt")}var it=!1,at=st,ct=null,rt=null,lt=Object(c["a"])(et,ot,nt,it,at,ct,rt),ut=lt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(ut)}}).$mount("#app")},Pi1K:function(t,e){},fSpt:function(t,e){t.exports={root:"App_root__2SJlR",customize:"App_customize__2cG2X"}},hLMp:function(t,e){t.exports={vote:"Vote_vote__RxAHY","vote-question":"Vote_vote-question__2XCQC","vote-button-wrapper":"Vote_vote-button-wrapper__2K7y1","vote-button":"Vote_vote-button__2sXpu",bottom:"Vote_bottom__3m-Dt"}},kmOK:function(t,e){t.exports={stat:"Stat_stat__3VHYn","stat-item":"Stat_stat-item__3sUDO","stat-item-circle-outer":"Stat_stat-item-circle-outer__3DIkb","stat-item-circle-inner":"Stat_stat-item-circle-inner__1ryY4","stat-item-title":"Stat_stat-item-title__1DYyI"}},oQOX:function(t,e){t.exports={radio:"Radios_radio__2LcAj","radio-circle-outer":"Radios_radio-circle-outer__2M1Ml","radio-circle-inner":"Radios_radio-circle-inner__2olMt","radio-circle-checked":"Radios_radio-circle-checked__29r_C","radio-title":"Radios_radio-title__3ZZXB"}},oUnx:function(t,e){t.exports={header:"Header_header__1rqvn","header-title":"Header_header-title__ggnxV"}},w1QW:function(t,e){}},[0]);
//# sourceMappingURL=app.99ea5d06.js.map