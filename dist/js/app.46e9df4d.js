webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"6siT":function(t,e){},AHS1:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),s=(n("6siT"),n("Pi1K"),n("w1QW"),n("AHS1"),{name:"Header",props:["page"],methods:{onChangePage:function(){this.$emit("update:page","Vote"===this.page?"Stat":"Vote")}}}),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.header},[n("span",{class:t.$style["header-title"]},[t._v("Votelite")]),n("i",{staticClass:"noselect",on:{click:t.onChangePage}},[t._v("\n    "+t._s("Vote"===t.page?"pie_chart_outlined":"poll")+"\n  ")])])},a=[],c=n("XyMi");function r(t){this["$style"]=n("oUnx")}var l=!1,u=r,_=null,d=null,h=Object(c["a"])(s,i,a,l,u,_,d),v=h.exports,p={name:"Vote",props:["choices","value"],methods:{change:function(t){this.$emit("change",t)}}},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.choices,function(e,o){return n("div",{key:o,class:t.$style["radio"],on:{click:function(e){t.change(o)}}},[n("span",{class:[t.$style["radio-circle-outer"],"gr-"+(o+1)]},[n("span",{class:[t.$style["radio-circle-inner"],t.value===o?t.$style["radio-circle-checked"]:null]})]),n("span",{class:t.$style["radio-title"]},[t._v("\n      "+t._s(e)+"\n    ")])])}))},f=[];function g(t){this["$style"]=n("oQOX")}var $=!1,b=g,y=null,V=null,x=Object(c["a"])(p,m,f,$,b,y,V),S=x.exports,R={name:"Button",props:["label"]},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style["button-wrapper"]},[n("div",{class:t.$style["button-outer"]},[n("div",{class:t.$style["button-inner"]},[t._v("\n      "+t._s(t.label)+"\n    ")])])])},O=[];function q(t){this["$style"]=n("RWUs")}var k=!1,M=q,H=null,z=null,j=Object(c["a"])(R,w,O,k,M,H,z),W=j.exports,A={name:"Vote",components:{Radios:S,Button:W},props:["question","choices","vote"],data:function(){return{localVote:null}},computed:{voteValue:function(){return null!==this.vote?this.vote:this.localVote}},methods:{changeLocalVote:function(t){this.localVote=t},changeVote:function(){this.$emit("change",this.localVote)}}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style["vote"]},[n("div",{class:t.$style["vote-question"]},[t._v(t._s(t.question))]),n("Radios",{attrs:{choices:t.choices,value:t.voteValue,disable:null!==t.vote},on:{change:t.changeLocalVote}}),null===t.vote?n("Button",{attrs:{label:"Vote"},nativeOn:{click:function(e){return t.changeVote(e)}}}):t._e(),n("div",{class:t.$style["bottom"]})],1)},E=[];function P(t){this["$style"]=n("hLMp")}var X=!1,L=P,U=null,B=null,Q=Object(c["a"])(A,C,E,X,L,U,B),D=Q.exports,K=window,T=K.R,Y={name:"Stat",props:["choices","votes"],computed:{votesPercentage:function(){var t=T.sum(this.votes);return this.votes.map(function(e){return Math.round(e/t*100)})}}},J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style["stat"]},t._l(t.choices,function(e,o){return n("div",{key:o,class:t.$style["stat-item"]},[n("span",{class:[t.$style["stat-item-circle-outer"],"gr-"+(o+1)]},[n("span",{class:t.$style["stat-item-circle-inner"]},[t._v("\n        "+t._s(t.votesPercentage[o])+"%\n      ")])]),n("div",{class:t.$style["stat-item-text"]},[n("div",[t._v(t._s(e))]),n("div",{class:t.$style["stat-item-number"]},[t._v("\n        "+t._s(t.votes[o])+" person\n      ")])])])}))},N=[];function Z(t){this["$style"]=n("kmOK")}var F=!1,G=Z,I=null,tt=null,et=Object(c["a"])(Y,J,N,F,G,I,tt),nt=et.exports,ot=(n("tqSY"),window),st=ot.W,it=ot.R,at=function(t,e){return st.share.dispatch([],t,e)},ct=function(t,e){return at(["__adjust",[["__add",[1]],t]],it.repeat(0,e))},rt=window,lt=rt.W,ut=rt.R,_t=function(t){"customize"===lt.mode&&(t.customizeMode=!0),lt.loadData().then(function(e){var n=e.localdb,o=e.customize;t.question=o.question,t.choices=o.choices,t.name=name,void 0!==n&&(t.vote=n)}),lt.share.getFromServer([]).then(function(){return lt.start()}),lt.share.subscribe(function(e){t.votes=e||[]}),t.customizeMode&&lt.start(),lt.onChangeValue(function(e){var n=e.key,o=e.value;"question"===n?t.question=o:"choices"===n&&(t.choices=o)}),lt.changeCustomize(ut.identity)},dt=window,ht=dt.W,vt={name:"App",components:{Header:v,Vote:D,Stat:nt},data:function(){return{customizeMode:!1,page:"Vote",question:"",choices:[],votes:[],vote:null}},created:function(){ht&&_t(this)},methods:{changeVote:function(t){if(null===t)return null;this.vote=t,this.page="Stat",ct(t,this.choices.length),ht.changeLocaldb(t)}}},pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.root},[n("Header",{attrs:{page:t.page},on:{"update:page":function(e){t.page=e}}}),"Vote"===t.page?n("Vote",{attrs:{question:t.question,choices:t.choices,vote:t.vote},on:{change:t.changeVote}}):t._e(),"Stat"===t.page?n("Stat",{attrs:{choices:t.choices,votes:t.votes}}):t._e(),t.customizeMode?n("div",{class:t.$style.customize}):t._e()],1)},mt=[];function ft(t){this["$style"]=n("fSpt")}var gt=!1,$t=ft,bt=null,yt=null,Vt=Object(c["a"])(vt,pt,mt,gt,$t,bt,yt),xt=Vt.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(xt)}}).$mount("#app")},Pi1K:function(t,e){},RWUs:function(t,e){t.exports={"button-wrapper":"button_button-wrapper__2rhgT","button-outer":"button_button-outer__3RXoR","button-inner":"button_button-inner__EUWO8"}},fSpt:function(t,e){t.exports={root:"App_root__2SJlR",customize:"App_customize__2cG2X"}},hLMp:function(t,e){t.exports={vote:"Vote_vote__RxAHY","vote-question":"Vote_vote-question__2XCQC",bottom:"Vote_bottom__3m-Dt"}},kmOK:function(t,e){t.exports={stat:"Stat_stat__3VHYn","stat-item":"Stat_stat-item__3sUDO","stat-item-circle-outer":"Stat_stat-item-circle-outer__3DIkb","stat-item-circle-inner":"Stat_stat-item-circle-inner__1ryY4","stat-item-text":"Stat_stat-item-text__2u1rf","stat-item-number":"Stat_stat-item-number__3ABOV"}},oQOX:function(t,e){t.exports={radio:"Radios_radio__2LcAj","radio-circle-outer":"Radios_radio-circle-outer__2M1Ml","radio-circle-inner":"Radios_radio-circle-inner__2olMt","radio-circle-checked":"Radios_radio-circle-checked__29r_C","radio-title":"Radios_radio-title__3ZZXB"}},oUnx:function(t,e){t.exports={header:"Header_header__1rqvn","header-title":"Header_header-title__ggnxV"}},w1QW:function(t,e){}},[0]);
//# sourceMappingURL=app.46e9df4d.js.map